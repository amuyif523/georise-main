--- Starting SLA Requeue Test ---
0. Mock Socket Server initialized.
1. Setting up Incident and Responder...
{"level":50,"time":1770872478042,"pid":18152,"hostname":"DESKTOP-3P240QT","err":{"type":"AggregateError","message":"","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","aggregateErrors":[{"type":"Error","message":"connect ECONNREFUSED ::1:6379","stack":"Error: connect ECONNREFUSED ::1:6379\n    at createConnectionError (node:net:1678:14)\n    at afterConnectMultiple (node:net:1708:16)","errno":-4078,"code":"ECONNREFUSED","syscall":"connect","address":"::1","port":6379},{"type":"Error","message":"connect ECONNREFUSED 127.0.0.1:6379","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at createConnectionError (node:net:1678:14)\n    at afterConnectMultiple (node:net:1708:16)","errno":-4078,"code":"ECONNREFUSED","syscall":"connect","address":"127.0.0.1","port":6379}],"code":"ECONNREFUSED"},"msg":"Redis connection error"}
Test Failed: PrismaClientKnownRequestError: 
Invalid `prisma.user.findFirst()` invocation in
C:\Users\Amanuel\Desktop\georise-main\backend\scripts\test-sla-requeue.ts:20:38

  17 console.log('1. Setting up Incident and Responder...');
  18 
  19 // Create or find a test user for responder
â†’ 20 let user = await prisma.user.findFirst(

    at qr.handleRequestError (C:\Users\Amanuel\Desktop\georise-main\backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:228:13)
    at qr.handleAndLogRequestError (C:\Users\Amanuel\Desktop\georise-main\backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:174:12)
    at qr.request (C:\Users\Amanuel\Desktop\georise-main\backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:143:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Array.$allOperations (C:\Users\Amanuel\Desktop\georise-main\backend\src\prisma.ts:22:18)
    at async a (C:\Users\Amanuel\Desktop\georise-main\backend\node_modules\@prisma\client\src\runtime\getPrismaClient.ts:805:24)
    at async main (C:\Users\Amanuel\Desktop\georise-main\backend\scripts\test-sla-requeue.ts:20:20) {
  code: 'ECONNREFUSED',
  meta: { modelName: 'User' },
  clientVersion: '7.2.0'
}
